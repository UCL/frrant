{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<style>

.toggle-element, .toggle-switch {
  display:none;
}
.toggle-element-button {
  text-decoration: none!important;
}
.toggle-element-button:after {
  content: '+';
}
.toggle-element-button.open:after {
    content: '-';
}

.open-button {
  background-color: #555;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  opacity: 0.7;
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
	border-radius:50px;
	height:60px;
  z-index: 12;
	text-align:center;
	box-shadow: 2px 2px 3px #999;
}

.open-button:focus {
  outline:0;
}

.drop-target {
   display:none; 
   height: 10px; 
    background: #f8f9fa;
    border-color: gray;
    border-style: dashed;
    border-width: 2px;
    margin-top: 10px;
    margin-bottom: 10px;
}

.drop-target.over {
    height: 100px; 
   /* background: green; */
}

/* hidden by default */
.symbol-popup {
  display: none;
  position: fixed;
  bottom: 100px;
  right: 15px;
  border: 3px solid #f1f1f1;
  z-index: 13;
}
.symbol-area {
  overflow-x: hidden;
}

/* Add styles to the form container */
.symbol-popup .form-container {
  max-width: 300px;
  padding: 10px;
  background-color: white;
}

.symbol-palette {
  display:none;
  max-height: 33vh;
  overflow-y: auto;
}

/* .ordered-list-item:first-of-type .form-group [name*='up']  {
  opacity:0.5;
  pointer-events:none;
}

.ordered-list-item:last-of-type .form-group [name*='down']  {
  opacity:0.5;
  pointer-events:none;
} */


/* Full-width textarea */
.symbol-popup .form-container textarea {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  border: none;
  background: #f1f1f1;
  resize: none;
  min-height: 200px;
}

/* When the textarea gets focus, do something */
.symbol-popup .form-container textarea:focus {
  background-color: #ddd;
  outline: none;
}

/* Add some hover effects to buttons */
.symbol-popup .form-container .btn:hover, .open-button:hover {
  opacity: 1;
}

.symbol-popup.picker.open {
  display:block;
}
.symbol-popup.picker {
  display:none;
}

.open-button.picker.open {
  /* background-color: #4CAF50; */
  /* background-color: #007bff; */
}

.open-button.picker {
  /* background-color: #555; */
  background-color: #007bff;
}
.open-button.picker:after {
    font-family: 'Font Awesome 5 Free';
    content: '\f11c';
    font-size: 24px;
    line-height: 30px;
    margin-left: -3px;
}
.open-button.picker.open:after {
    font-family: 'Arial, Helvetica, sans-serif';
    text-align: center;
    content: '\00d7';
    font-size: 24px;
    line-height: 24px;
    margin-left: 0px;
} 
</style>
{% block symbol_picker %}

<button class="open-button picker" onclick="togglePicker()"></button>

<div class="symbol-popup picker" id="myForm">
  <div class='form-container'>
          {% include 'research/partials/symbol_picker.html' %}
  </div>
</div>

{% endblock %}
<div class='row'>
  <div class='col mt-n4 mb-1 ml-3'>
    <div class="custom-control custom-switch toggle-switch float-right">
      <input type="checkbox" class="custom-control-input" id='toggle-elements'>
      <label class="custom-control-label" for="toggle-elements"><small class='text-muted'>Show Details</small></label>
    </div>

  </div>
</div>

<div class='row'>
  <div class='col-md-2 mb-5'>
    <nav class='nav flex-column'>
      {% if perms.research.view_antiquarian %}
      <a class='nav-link {% if "antiquarian" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "antiquarian:list" %}'>
        {% trans 'Antiquarians' %}
      </a>
      {% endif %}

      {% comment %}
      {% if perms.research.view_testimonium %}
      <a class='nav-link {% if "testimonium" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "testimonium:list" %}'>
        {% trans 'Testimonia' %}
      </a>
      {% endif %}
      {% if perms.research.view_fragment %}
      <a class='nav-link {% if "fragment" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "fragment:list" %}'>
        {% trans 'Fragments' %}
      </a>
      {% endif %}
      {% endcomment %}

      {% if perms.research.view_fragment %}
      <a class='nav-link {% if "anonymous_fragment" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "anonymous_fragment:list" %}'>
        {% trans 'Anonymous Fragments' %}
      </a>
      {% endif %}
      {% if perms.research.view_citingauthor %}
      <a class='nav-link {% if "citingauthor" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "citingauthor:list" %}'>
        {% trans 'Citing Authors' %}
      </a>
      {% endif %}
      {% if perms.research.view_topic %}
      <a class='nav-link {% if "topic" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "topic:list" %}'>
        {% trans 'Topics' %}
      </a>
      {% endif %}
      {% if perms.research.view_work %}
      <a class='nav-link {% if "work" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "work:list" %}'>
        {% trans 'Works' %}
      </a>
      {% endif %}
      {% if perms.research.view_concordance %}
      <a class='nav-link {% if "concordance" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "concordance:list" %}'>
        {% trans 'Concordance' %}
      </a>
      {% endif %}
      {% if perms.research.view_bibliographyitem %}
      <a class='nav-link {% if "bibliography" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "bibliography:list" %}'>
        {% trans 'Bibliography' %}
      </a>
      {% endif %}
      <a class='nav-link {% if "search" in request.resolver_match.namespaces %}active font-weight-bold{% endif %}'
        href='{% url "search:home" %}'>
        {% trans 'Search' %}
      </a>
    </nav>
  </div>
  <div class='col-md-10 main-content'>
    {% block outer %}
    <div class="d-flex">
      <div>
        <h3 class='historical mb-3 mr-3'>{% block heading %}{% endblock %}</h3>
      </div>
      <div class='ml-auto'>{% block action %}{% endblock %}</div>
    </div>
    <div class='my-5'>
      {% block inner %}{% endblock %}
    </div>
    {% endblock %}
  </div>
</div>
{% endblock %}
