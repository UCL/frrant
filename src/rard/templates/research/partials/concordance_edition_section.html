{% load i18n bootstrap4 %}

<form novalidate enctype="multipart/form-data" autocomplete='off' action='{{ request.path }}' class="form" method='POST' id="edition_form">
    {% csrf_token %}

    <div class="d-flex flex-column justify-content-between edition-select">
    {% bootstrap_field edition_form.edition %}
    <h2 class="btn-link new-edition-btn small">Or create a new Edition >></h2>
    </div>

    <div class="d-flex flex-column new-edition invisible justify-content-between">
        <div class="d-flex flex-row">
        {% bootstrap_field edition_form.new_edition %}
        {% bootstrap_field edition_form.new_description %}
        </div>
        <div>
            {% bootstrap_field edition_form.part_format %}
            <input type="hidden" name="original_text" value={{original_text.pk}}>
        </div>
        <h2 class="btn-link select-edition-btn small">Or select Edition >></h2>
    </div>
    <br>
    <script>
        document.querySelector(".new-edition-btn").onclick = ()=>{
            document.querySelector(".edition-select").classList.add("invisible");
            document.querySelector(".new-edition").classList.remove("invisible");
    };
    document.querySelector(".select-edition-btn").onclick = ()=>{
        document.querySelector(".edition-select").classList.remove("invisible");
        document.querySelector(".new-edition").classList.add("invisible");
}

    </script>
<button type="button" class="btn btn-primary" hx-post="{% url 'concordance:create' original_text.pk %}" hx-target="#edition_form" hx-trigger="click" hx-swap="outerHTML">{% trans 'Next' %}</button>
</form>
