{# Assumes context objects named 'work', optional 'volume' and testimonium or fragment object named 'testimonium' or 'fragment' #}

{% load i18n %}

<div class='rard-list-item d-flex justify-content-between'>
    <div>
        <li>
            <a href='{% url "work:detail" work.pk %}'>
                {{ work }} 
            </a> 
            {% if volume %}
            vol. {{ volume.number }}
            {% endif %}
        </li>
    </div>
    <div class='rard-list-item-actions'>
        {% if testimonium %}
            {% if volume %}
            <form novalidate class='form-inline' action='{% url "testimonium:remove_volume_link" testimonium.pk volume.pk %}' method='POST'>
            {% else %}
            <form novalidate class='form-inline' action='{% url "testimonium:remove_work_link" testimonium.pk work.pk %}' method='POST'>
            {% endif %}
                {% csrf_token %}
                <div class='form-group'>
                    <button type='submit' class='btn btn-link text-danger confirm-delete p-0 ml-2'
                        data-what='link'>{% trans 'Remove Link' %}</button>
                </div>
            </form>
        {% elif fragment %}
            {% if volume %}
            <form novalidate class='form-inline' action='{% url "fragment:remove_volume_link" fragment.pk volume.pk %}' method='POST'>
            {% else %}
            <form novalidate class='form-inline' action='{% url "fragment:remove_work_link" fragment.pk work.pk %}' method='POST'>
            {% endif %}
                {% csrf_token %}
                <div class='form-group'>
                    <button type='submit' class='btn btn-link text-danger confirm-delete p-0 ml-2'
                        data-what='link'>{% trans 'Remove Link' %}</button>
                </div>
            </form>
        {% endif %}
    </div>
</div>
